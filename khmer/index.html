<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Khmer Layout Requirements (Draft)</title>
  <script src="https://www.w3.org/Tools/respec/respec-w3c-common" async="" class="remove" type="text/javascript">
</script>
  <script class="remove" type="text/javascript">
  var respecConfig = {
      // specification status (e.g. WD, LCWD, WG-NOTE, etc.). If in doubt use ED.
      specStatus:           "ED",
      //publishDate:  		"2015-07-21",
      //previousPublishDate:  "2014-12-16",
      //previousMaturity:  "FPWD",

      noRecTrack:           true,
      shortName:            "khmerlreq",
      copyrightStart:       "2019",
      edDraftURI:           "https://w3c.github.io/sealreq/khmer/",

      // if this is a LCWD, uncomment and set the end of its review period
      // lcEnd: "2009-08-05",

      // editors, add as many as you like
      // only "name" is required
      editors:  [
        { name: "Richard Ishida", company: "W3C" }
      ],

      wg:           "Internationalization Working Group",
      wgURI:        "https://www.w3.org/International/core/",
      wgPublicList: "public-i18n-sealreq",
      bugTracker: { new: "https://github.com/w3c/sealreq/issues", open: "https://github.com/w3c/sealreq/issues" } ,
      otherLinks: [
        {
          key: "Github",
          data: [
          {
            value: "repository",
            href: "https://github.com/w3c/sealreq"
          }
          ]
        }
      ],

      // URI of the patent status for this WG, for Rec-track documents
      // !!!! IMPORTANT !!!!
      // This is important for Rec-track documents, do not copy a patent URI from a random
      // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
      // Team Contact.
      wgPatentURI:  "https://www.w3.org/2004/01/pp-impl/32113/status",
      // !!!! IMPORTANT !!!! MAKE THE ABOVE BLINK IN YOUR HEAD
    };
  </script>
  <link rel="stylesheet" href="local.css" type="text/css">
</head>

<body>
  <div id="abstract">
    <p>This document describes requirements for the layout and presentation of text in languages that use the Khmer script when they are used by Web standards and technologies, such as HTML, CSS, Mobile Web, Digital Publications, and Unicode.</p>
  </div>

  <div id="sotd">
    <p>This document describes the basic requirements for Khmer script layout and text support on the Web and in eBooks. These requirements provide information for Web technologies such as CSS, HTML and digital publications about how to support users of Khmer scripts. Currently the document focuses on Khmer as used for the Khmer language. The information here is developed in conjunction with a <a href="../gap-analysis/khmer-gap.html">document that summarises gaps</a> in support on the Web for Khmer.</p>
<p>The editor's draft of this document is being developed by the <a href="https://www.w3.org/International/groups/#mission">Southeast Asian Layout Task Force</a>, part of the W3C <a href="https://www.w3.org/International/ig/">Internationalization Interest Group</a>. It is published by the <a href="https://www.w3.org/International/core/">Internationalization Working Group</a>. The end target for this document is a Working Group Note.</p>

    <div class="note">
      <p data-lang="en" style="font-weight: bold; font-size: 120%">Sending comments on this document</p>

      <p data-lang="en">If you wish to make comments regarding this document, please raise them as <a href="https://github.com/w3c/sealreq/issues" style="font-size: 120%;">github issues</a>. Only send comments by email if you are unable to raise issues on github (see links below). All comments are welcome.</p>

      <p data-lang="en">To make it easier to track comments, please raise separate issues or emails for each comment, and point to the section you are commenting on&nbsp; using a URL.</p>
    </div>
  </div>

  <section id="h_introduction">
    <h2>Introduction</h2>

    <section id="h_about_this_document">
      <h3>About this document</h3>

      <p>Some text goes here.</p>
    </section>

  <section id="h_gap_analysis">
  <h3>Gap analysis</h3>

    <p>This document is pointed to by a separate document, <a href="../gap-analysis/khmer-gap.html">Khmer Gap Analysis</a>, which describes gaps in support for Khmer on the Web, and prioritises and describes the impact of those gaps on the user.</p>
<p>Wherever an unsupported feature is indentified through the gap analysis process, the requirements for that feature need to be documented. This document is where those requirements are described.</p>
<p>This document should contain no reference to a particular technology. For example, it should not say &quot;CSS does/doesn't do such and such&quot;, and it should not describe how a technology, such as CSS, should implement the requirements. It is technology agnostic, so that it will be evergreen, and it simply describes how the script works. The gap analysis document is the appropriate place for all kinds of technology-specific information.</p>
</section>


  <section id="h_info_requests">
  <h3>Other related resources</h3>

    <p>The document <a href="https://w3c.github.io/typography/">International text layout and typography index</a> (known informally as the text layout index) points to this document and others, and provides a central location for developers and implementers to find information related to various scripts.</p>
<p>The W3C also maintains a tracking system that has links to github issues in W3C repositories. There are separate links for (a) requests from developers to the user community for information about how scripts/languages work, (b) issues raised against a spec, and (c) browser bugs.  For example, you can find out <a href="https://w3c.github.io/i18n-activity/textlayout/?filter=type-info-request">what information developers are currently seeking</a>, and the resulting list can also be filtered by script.</p>
</section>


  </section>
<section id="h_script_overview">
  <h2>Khmer Script Overview</h2>
    <p>The script is an <span class="newterm"><a class="termref" href="https://www.unicode.org/glossary/#abugida">abugida</a></span>, ie. like most Brahmi-influenced scripts, each consonant carries with it an inherent vowel. The sound following a consonant can be modified by attaching vowel signs to the consonant when writing.</p>
			<p>Glyphs constituting a single syllable can appear on any side of the base character, and multiple diacritics are often needed to create the vowel in a syllable.</p>
<p>A key feature of Khmer is that there are a large number of vowel sounds, and only a few vowel signs; and there are a large number of consonant letters for only a small number of consonant sounds. This lead to a system where there are generally two consonant signs for a given sound, each belonging to one of two classes (or registers). So to determine the pronunciation of a vowel sign you start by seeing which class of consonant it follows. For example, using the two symbols for the sound <span class="ipa">k</span>, <span class="ex" lang="km">ក</span> is <span class="ipa">kɑː</span> <span class="meaning">neck</span>, and <span class="ex" lang="km">គ</span> is <span class="ipa">kɔː</span> <span class="meaning">mute</span>.</p>
<p>Consonants stack in Khmer, but not always in a predictable way. Multiple consonants at the start and (sometimes) end of a syllable are usually stacked. Consonant clusters in a multisyllabic word also tend to stack. But syllable-final consonants, which can be one of a number of characters, often don't stack with the onset consonant of the next syllable.</p>
<p>The syllable is fundamental in Cambodian.</p>
  <p>Many native Cambodian words are monosyllabic. These start with one or more consonants or an independent vowel (or a vowel sign attached to <span class="name">ʔɑː</span>, which is a combination of both). Short vowels in stressed syllables are always followed by a consonant. Long vowels may not be. There are many monosyllabic words that begin with consonant clusters, and some monosyllabic words that end with clusters, although only one consonant is pronounced in syllable final position.</p>
  <p>There are also many bisyllabic words. In many cases the first syllable in a bisyllabic word is unstressed, and the vowel is usually rendered in colloquial speech as a schwa. Some bisyllabic words are compounds, however, and this may not apply.</p>
  <p>Polysyllabic words are usually of Sanskrit, Pali or French origin. These words tend to alternate stress across their syllables, but may not.</p>
</section>





<section>
  <h2 id="h_text_direction">Text direction</h2>

<p>Khmer is written horizontally, left to right.</p>

</section>







<section id="h_glyphs">
    <h2>Glyph shaping &amp; positioning</h2>

<section id="h_font_styles">
<h3>Font styles</h3>

<p>There are several distinct styles of font in Modern Khmer.</p>
<p>Most modern typefaces are set in an upright style (called <span class="charExample" translate="no"><span class="ex" lang="km">អក្សរឈរ</span> <span class="trans">ʔɑːksɑː cʰɔː</span></span> or <span class="charExample" translate="no"><span class="ex" lang="km">អក្សរត្រង់</span> <span class="trans">ʔɑːksɑː trɑŋ</span></span>).<sup><a href="https://en.wikipedia.org/wiki/Khmer_alphabet#Styles">w</a></sup> This is the style used for this page.</p>
    <figure>
    <p class="ex large" lang="km"><img src="images/font_style_chor.png" alt=""></p>
       <figcaption>The text <span class="ex" lang="km">អក្សរខ្មែ</span> in an âksâr chôr font style.</figcaption>
 </figure>

<p>The slanted style (<span class="charExample" translate="no"><span class="ex" lang="km">អក្សរជ្រៀង</span> <span class="trans">ʔɑːksɑː criəŋ</span></span>) is used for whole documents or novels. The oblique styling has no affect on the semantics of the text.<sup><a href="https://en.wikipedia.org/wiki/Khmer_alphabet#Styles">w</a></sup></p>
    <figure>
    <p class="ex large" lang="km"><img src="images/font_style_chrieng.png" alt=""></p>
       <figcaption>The text <span class="ex" lang="km">អក្សរខ្មែ</span> in an âksâr chriĕng font style.</figcaption>
 </figure>

<p>The round style (<span class="charExample" translate="no"><span class="ex" lang="km">អក្សរមូល</span> <span class="trans">ʔɑːksɑː muːl</span></span>) includes more ligated forms, and is used for titles and headings in Cambodian documents, books, or currency, as well as on shop signs or banners. It may also be used to emphasise important names or nouns.<sup><a href="https://en.wikipedia.org/wiki/Khmer_alphabet#Styles">w</a></sup></p>
    <figure>
    <p class="ex large" lang="km"><img src="images/font_style_mul.png" alt=""></p>
       <figcaption>The text <span class="ex" lang="km">អក្សរខ្មែ</span> in an âksâr mul font style.</figcaption>
 </figure>
 
<p>Another style (<span class="charExample" translate="no"><span class="ex" lang="km">អក្សរខម</span> <span class="trans">ʔɑːksɑː kʰɑːm</span></span>), characterized by sharper serifs and angles and retainment of some antique characteristics, is used for yantra text in Cambodia as well as in Thailand.<sup><a href="https://en.wikipedia.org/wiki/Khmer_alphabet#Styles">w</a></sup></p>
</section>
</section>







<section id="h_characters_and_phrases">
<h2>Structural boundaries &amp; markers</h2>


<section id="h_words">
      <h3>Word boundaries</h3>
<p>The concept of 'word' is difficult to define in any language (see <a href="https://www.w3.org/International/articles/typography/linebreak.en#whatisword">What is a word?</a>). We will treat it as a vaguely-defined but recognisable semantic unit that is typically smaller than a phrase and may comprise one or more syllables.</p>
<p>Spaces are used in Khmer as phrase separators, but Khmer doesn't separate words in a phrase using visible spaces.</p>
<p>Although Khmer doesn't use spaces or dividers between words, the expectation is that line-breaks occur at word boundaries.</p>
<p>There are three basic types of Khmer word:</p>
<ol>
<li>Single, indivisible words: eg. <span class="charExample" translate="no"><span class="ex" lang="km">ជាតិ</span> <span class="trans">c̱āti</span> <span class="meaning">national</span></span>, <span class="charExample" translate="no"><span class="ex" lang="km">វិទ្យាល័យ</span> <span class="trans">v̱iṯ͓ȳāḻăȳ</span> <span class="meaning">highschool</span></span>, <span class="charExample" translate="no"><span class="ex" lang="km">កម្ម</span> <span class="trans">km̱͓m̱</span> <span class="meaning">mission</span></span>.</li>
<li>Words with prefixes and suffixes: eg. <span class="charExample" translate="no"><span class="ex" lang="km">អន្តរជាតិ</span> <span class="trans">ʔṉ͓tṟc̱āti</span> <span class="meaning">international</span></span>, <span class="charExample" translate="no"><span class="ex" lang="km">មហវិទ្យាល័យ</span> <span class="trans">m̱hv̱iṯ͓ȳāḻăȳ</span> <span class="meaning">high school</span></span> and <span class="charExample" translate="no"><span class="ex" lang="km">កម្មករ</span> <span class="trans">km̱͓m̱kṟ</span> <span class="meaning">workers</span></span>.</li>
<li>Compound words (combining 2, 3, or more single words): eg. <span class="charExample" translate="no"><span class="ex" lang="km">ជាតិសាសន៍</span> <span class="trans">c̱ātisāsṉ˟</span> <span class="meaning">race</span></span>, <span class="charExample" translate="no"><span class="ex" lang="km">កម្មផល</span> <span class="trans">km̱͓m̱pʰḻ</span> <span class="meaning">karma</span></span>, <span class="charExample" translate="no"><span class="ex" lang="km">សកលវិទ្យាល័យ</span> <span class="trans">skḻv̱iṯ͓ȳāḻăȳ</span> <span class="meaning">university</span></span>.</li>
</ol>
<p>The first two types cannot be broken, but the third type can. For example, <span class="ex" lang="km">|ជាតិ|សាសន៍|</span>, <span class="ex" lang="km">|កម្ម|ផល|</span>, and <span class="ex" lang="km">|សកល|វិទ្យាល័យ|</span>. (<a href="https://github.com/w3c/sealreq/issues/4#issuecomment-384981313">Hong</a>)</p>
<p>Text is not broken at sub-word syllable boundaries. In fact, this is particularly difficult to do algorithmically in Khmer, because syllable-final consonants are indistinguishable from consonants with an inherent vowel that constitute a new syllable. Some kind of morphological analysis is needed.</p>
</section>


<section id="h_zwsp">
      <h3>Zero-width space (ZWSP) &amp; Word-joiner (WJ)</h3>
<p>In order to manually fine-tune word-boundary detection, the invisible character <span class="codepoint" translate="no"><a href="/scripts/khmer/block#char200B"><span class="uname">U+200B ZERO WIDTH SPACE</span></a></span> (ZWSP) can be used to create breaks. <sup><a href="https://www.unicode.org/versions/Unicode11.0.0/ch16.pdf#G53337">u625</a></sup></p>
<p>To prevent a break between syllables, <span class="codepoint" translate="no"><a href="/scripts/khmer/block#char2060"><span class="uname">U+2060 WORD JOINER</span></a></span>(WJ) can be used.</p>
<p>It is also important to bear in mind that Khmer may be used to write various languages, in particular minority languages for which different dictionaries are needed. Since such dictionaries may not available in a given browser or other application, there is a tendency to use ZWSP in order to compensate.</p>
<p>Large-scale manual entry of ZWSP and WJ has potential downsides because the user cannot see them; this leads to problems with ZWSP being inserted in the wrong position, or multiple times. However, these don't set a state, so it doesn't create major issues. It would be useful, however, if an editor showed the location of these characters.</p>
<p>Care should also be taken when trying to match text, eg. for searching in a page. WJ should be ignored. ZWSP may or may not be ignored, depending on whether word boundaries are significant for the search.</p>
</section>


<section id="h_quotations">
      <h3>Quotations</h3>
<p>The default quote marks for Lao should be <span class="codepoint" translate="no"><span lang="th">&#x201C;</span> [<span class="uname">U+201C LEFT DOUBLE QUOTATION MARK</span>]</span> at the start, and <span class="codepoint" translate="no"><span lang="th">&#x201D;</span> [<span class="uname">U+201D RIGHT DOUBLE QUOTATION MARK</span>]</span> at the end.</p>
<p>When an additional quote is embedded within the first, the quote marks should be <span class="ex" lang="lo"><span class="codepoint" translate="no"><span lang="th">&#x2018;</span> [<span class="uname">U+2018 LEFT SINGLE QUOTATION MARK</span>]</span> and <span class="codepoint" translate="no"><span lang="th">&#x2019;</span> [<span class="uname">U+2019 RIGHT SINGLE QUOTATION MARK</span>]</span></span>. &nbsp; <span class="ednote">This is according to CLDR – need to check.</span></p>
</section>


<section id="h_segmentation">
      <h3>Text boundaries &amp; selection</h3>
      <p class="prompt">TBD</p>
</section>

    <section id="h_inline_spacing">
      <h3>Inter-character spacing</h3>
      <p class="prompt">TBD</p>
    </section>



</section>






  <section id="h_lines_and_paragraphs">
<h2>Line &amp; paragraph layout</h2>

    <section id="h_line_breaking">
      <h3>Line breaking</h3>
<p>Although Khmer doesn't use spaces or dividers between words, the expectation is that line-breaks occur at word boundaries.</p>
<p>Because Khmer doesn't separate words, applications typically look up word boundaries in a dictionary, however, such lookup doesn't always produce the needed result, especially when dealing with compound words and proper names (see <a href="#h_words"></a>).</p>
<p>To counteract these deficiencies, authors may use U+200B ZERO WIDTH SPACE and U+2060 WORD JOINER (see <a href="#h_zwsp"></a>).</p>
<p>If a dictionary fails to keep two or more syllables together as needed, it should be possible to use the Unicode character <span class="uname">U+2060 WORD JOINER</span> between the two syllables. This is an invisible character, equivalent to a zero-width no-break space, and used to prevent line-breaks.</p>
<p>Text is not broken at sub-word syllable boundaries. In fact, this is particularly difficult to do algorithmically in Khmer, because syllable-final consonants are indistinguishable from consonants with an inherent vowel that constitute a new syllable. Some kind of morphological analysis is needed.</p>
</section>

    
    
    
    <section id="h_alignment">
      <h3>Text alignment &amp; justification</h3>
<p>Justification in Khmer adjusts blank spaces, but also makes certain adjustments to inter-character spacing.</p>
</section>

    
    
    
    <section id="h_spacing">
    <h3>Letter spacing</h3>
<p>Cambodian text doesn't appear to use inter-letter spacing in running text, however it is sometimes used in signage. (<a href="https://github.com/w3c/sealreq/issues/9#issuecomment-387971659">@mcdurdin)</a> See an <a href="https://www.phnompenhpost.com/post-property/impasse-tbong-khmum-over-who-starts-building-first">example</a>.</p>
<p>The rules for where the separations appear are still not clear, however one might expect that it keeps together base + subjoined consonants, and base consonants + vowel signs.</p>
<p>The situation is less clear for spacing vowel-signs such as <span class="codepoint" translate="no"><span lang="km">◌ា</span> [<span class="uname">U+17B6 KHMER VOWEL SIGN AA​</span>]</span>, which are shown separated in the example linked to above.</p>
</section>

    
    
    
    <section id="h_counters">
    <h3>List counters</h3>
    
<p>Counters are used to number lists, chapter headings, etc.</p>
<p>Khmer uses two counter styles:</p>
<ol>
<li>a numeric style, and</li>
<li>an alphabetic style.</li>
</ol>
<p>The numeric style uses the Khmer digits '០' '១' '២' '៣' '៤' '៥' '៦' '៧' '៨' '៩' in a decimal pattern.</p>
<div class="figwrap">
<figure id="numeric_counter_style">
<p class="large">1&nbsp;⇨&nbsp;<span class="ex">១</span> 2&nbsp;⇨&nbsp;<span class="ex">២</span> 3&nbsp;⇨&nbsp;<span class="ex">៣</span> 4&nbsp;⇨&nbsp;<span class="ex">៤</span><br>
11&nbsp;⇨&nbsp;<span class="ex">១១</span> 22&nbsp;⇨&nbsp;<span class="ex">២</span><span class="ex">២</span> 33&nbsp;⇨&nbsp;<span class="ex">៣</span><span class="ex">៣</span> 44&nbsp;⇨&nbsp;<span class="ex">៤</span><span class="ex">៤</span><br>
111&nbsp;⇨&nbsp;<span class="ex">១</span><span class="ex">១</span><span class="ex">១</span> 222&nbsp;⇨&nbsp;<span class="ex">២</span><span class="ex">២</span><span class="ex">២</span> 333&nbsp;⇨&nbsp;<span class="ex">៣</span><span class="ex">៣</span><span class="ex">៣</span></p>
<figcaption>Examples of counter values using the Khmer numeric counter style.</figcaption>
</figure>
</div>

<p>The alphabetic style uses the following letters, in the order shown: 'ក' 'ខ' 'គ' 'ឃ' 'ង' 'ច' 'ឆ' 'ជ' 'ឈ' 'ញ' 'ដ' 'ឋ' 'ឌ'
'ឍ' 'ណ' 'ត' 'ថ' 'ទ' 'ធ' 'ន' 'ប' 'ផ' 'ព' 'ភ' 'ម' 'យ' 'រ' 'ល' 'វ'
'ស' 'ហ' 'ឡ' 'អ'.</p>
<div class="figwrap">
<figure id="numeric_counter_style">
<p class="large">1&nbsp;⇨&nbsp;<span class="ex" lang="km">ក</span> 2&nbsp;⇨&nbsp;<span class="ex">ខ</span> 3&nbsp;⇨&nbsp;<span class="ex">គ</span> 4&nbsp;⇨&nbsp;<span class="ex">ឃ</span><br>
11&nbsp;⇨&nbsp;<span class="ex">ដ</span> 22&nbsp;⇨&nbsp;<span class="ex">ផ</span> 33&nbsp;⇨&nbsp;<span class="ex">អ</span> 44&nbsp;⇨&nbsp;<span class="ex">កដ</span><br>
111&nbsp;⇨&nbsp;<span class="ex">គឋ</span> 222&nbsp;⇨&nbsp;<span class="ex">ចភ</span> 333&nbsp;⇨&nbsp;<span class="ex" lang="km">ញគ</span></p>
<figcaption>Examples of counter values using the Khmer alphabetic counter style.</figcaption>
</figure>
</div>

<p>In both cases, the separator is a comma. <span class="ednote">Check this - it's the assumption of the CSS spec.</span></p>
</section>
  
  
      
</section>







  <!--section class="appendix" id="glossary">
    <h2>Glossary</h2>

    <table class="glossary">
      <thead>
        <tr>
          <th>Term</th>

          <th>XXXX</th>

          <th>Transliteration</th>

          <th>Definition</th>
        </tr>
      </thead>

      <tbody>
        <tr id="def_alignment">
          <td>alignment</td>

          <td class="rtlTermCell">&nbsp;</td>

          <td class="rtlTermCell">&nbsp;</td>

          <td><br></td>
        </tr>
      </tbody>
    </table>
  </section-->

<section class="appendix" id="acknowledgements">
    <h2>Acknowledgements</h2>

<p>Special thanks to the following people who contributed to this document (contributors' names listed in in alphabetic order).</p>
<p>Ben Mitchell, Danh Hong, Marc Durdin, Martin Hosken.</p>
<p data-lang="en">Please find the latest info of the contributors at the <a href="https://github.com/w3c/sealreq/graphs/contributors">GitHub contributors list</a>.</p>
</section>
</body>
</html>
